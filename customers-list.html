<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ø¹Ø±Ø¶ Ø§Ù„Ø²Ø¨Ø§Ø¦Ù†</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø¹Ø§Ù…Ø© */
        body {
            font-family: 'Cairo', sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #1a1a1a, #2a2a2a);
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
            touch-action: pan-y;
        }

        /* Ø¥ØµÙ„Ø§Ø­ Ø®Ù„ÙÙŠØ© Ø§Ù„ØµÙØ­Ø© */
        .background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: linear-gradient(135deg, #1a1a1a, #2a2a2a);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
        }

        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© */
        .sidebar {
            right: -100%;
            max-width: 100%;
        }

        .sidebar.show {
            right: 0;
        }

        /* ØªØ­Ø³ÙŠÙ† Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø¨Ø­Ø« */
        .search-bar i {
            pointer-events: none;
        }

        /* ØªØ­Ø³ÙŠÙ† Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø²Ø¨Ø§Ø¦Ù† */
        .customer-card {
            position: relative;
            overflow: hidden;
        }

        .customer-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 159, 67, 0.1);
            z-index: -1;
        }

        /* Ø±Ø³Ø§Ø¦Ù„ Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ø¨ÙŠØ§Ù†Ø§Øª */
        .no-data {
            text-align: center;
            color: #ff9f43;
            padding: 20px;
            width: 100%;
        }
    </style>
</head>
<body>
    <!-- Ø§Ù„Ø®Ù„ÙÙŠØ© -->
    <div class="background"></div>

    <!-- Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <div class="menu-toggle" onclick="toggleMenu()">
        <span>â˜°</span>
    </div>

    <!-- Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø®ÙÙŠØ© -->
    <div class="sidebar" id="sidebar">
        <span class="close-btn" onclick="toggleMenu()">Ã—</span>
        <h2>Ø¥Ø¯Ø§Ø±Ø© ØµØ§Ù„ÙˆÙ† Ø§Ù„Ø­Ù„Ø§Ù‚Ø©</h2>
        <a href="dashboard.html">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a>
        <a href="customer-selection.html">Ø¥Ø¶Ø§ÙØ© Ø²Ø¨ÙˆÙ†</a>
        <a href="services.html">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø®Ø¯Ù…Ø§Øª</a>
        <a href="invoices.html">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙÙˆØ§ØªÙŠØ±</a>
        <a href="invoice-search.html">Ø¨Ø­Ø« Ø¹Ù† ÙØ§ØªÙˆØ±Ø©</a>
        <a href="index.html">ØªØ³Ø¬ÙŠÙ„ Ø®Ø±ÙˆØ¬</a>
    </div>

    <!-- Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
    <div class="main-content">
        <h1 style="color: #ff9f43; text-align: center; margin-bottom: 40px;">Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø²Ø¨Ø§Ø¦Ù†</h1>

        <!-- Ù…Ø±Ø¨Ø¹ Ø§Ù„Ø¨Ø­Ø« -->
        <div class="search-bar">
            <input type="text" id="searchInput" placeholder="Ø§Ø¨Ø­Ø« Ø¨Ø§Ø³Ù… Ø£Ùˆ Ø±Ù‚Ù… Ù‡Ø§ØªÙ...">
            <i>ğŸ”</i>
        </div>

        <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø²Ø¨Ø§Ø¦Ù† -->
        <div class="customers-list" id="customersList"></div>
    </div>

    <script>
        // ØªØ­Ø³ÙŠÙ†Ø§Øª JavaScript
        function toggleMenu() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('show');
        }

        function renderCustomers(customers) {
            const list = document.getElementById('customersList');
            
            if (!customers || customers.length === 0) {
                list.innerHTML = '<div class="no-data">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø²Ø¨Ø§Ø¦Ù† Ù…Ø³Ø¬Ù„ÙŠÙ† Ø­Ø§Ù„ÙŠØ§Ù‹</div>';
                return;
            }

            list.innerHTML = customers.map(cust => `
                <div class="customer-card">
                    <h3>${cust.name}</h3>
                    <p>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ: ${cust.phone}</p>
                    <div class="customer-actions">
                        <button onclick="editCustomer('${cust.id}')">ØªØ¹Ø¯ÙŠÙ„</button>
                        <button onclick="deleteCustomer('${cust.id}')">Ø­Ø°Ù</button>
                    </div>
                </div>
            `).join('');
        }

        function loadCustomers() {
            try {
                return JSON.parse(localStorage.getItem('customers')) || [];
            } catch (error) {
                console.error('Error loading customers:', error);
                return [];
            }
        }

        function deleteCustomer(id) {
            if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø²Ø¨ÙˆÙ†ØŸ')) return;
            
            const customers = loadCustomers().filter(cust => cust.id !== id);
            localStorage.setItem('customers', JSON.stringify(customers));
            renderCustomers(customers);
        }

        function editCustomer(id) {
            // ØªÙ†Ø¨ÙŠÙ‡ Ù…Ø¤Ù‚Øª Ø­ØªÙ‰ Ø¥Ù†Ø´Ø§Ø¡ ØµÙØ­Ø© Ø§Ù„ØªØ¹Ø¯ÙŠÙ„
            alert('Ø³ÙŠØªÙ… ÙØªØ­ ØµÙØ­Ø© Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ù‚Ø±ÙŠØ¨Ø§Ù‹');
        }

        // Ø§Ù„Ø¨Ø­Ø« Ø§Ù„ÙÙˆØ±ÙŠ
        document.getElementById('searchInput').addEventListener('input', function(e) {
            const term = e.target.value.toLowerCase();
            const customers = loadCustomers();
            const filtered = customers.filter(cust =>
                cust.name.toLowerCase().includes(term) ||
                cust.phone.includes(term)
            );
            renderCustomers(filtered);
        });

        // Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£ÙˆÙ„ÙŠØ©
        window.onload = () => renderCustomers(loadCustomers());
    </script>
</body>
</html>
